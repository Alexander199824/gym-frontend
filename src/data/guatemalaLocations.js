// src/data/guatemalaLocations.js
// FUNCIÃ“N: Datos completos de departamentos y municipios de Guatemala
// FUENTE: Datos oficiales de todos los departamentos y municipios de Guatemala
// USO: Import este archivo para obtener listas de departamentos y municipios

// ðŸ‡¬ðŸ‡¹ DEPARTAMENTOS Y MUNICIPIOS COMPLETOS DE GUATEMALA
export const GUATEMALA_LOCATIONS = {
  "Alta Verapaz": [
    "CobÃ¡n",
    "San CristÃ³bal Verapaz",
    "Santa Cruz Verapaz",
    "Tactic",
    "TamahÃº",
    "San Miguel TucurÃº",
    "PanzÃ³s",
    "SenahÃº",
    "San Pedro CarchÃ¡",
    "San Juan Chamelco",
    "LanquÃ­n",
    "Santa MarÃ­a CahabÃ³n",
    "Chisec",
    "Chahal",
    "Fray BartolomÃ© de las Casas",
    "Santa Catalina La Tinta",
    "RaxruhÃ¡"
  ],

  "Baja Verapaz": [
    "Cubulco",
    "Granados",
    "PurulhÃ¡",
    "Rabinal",
    "SalamÃ¡",
    "San JerÃ³nimo",
    "San Miguel Chicaj",
    "Santa Cruz el Chol"
  ],

  "Chimaltenango": [
    "Chimaltenango",
    "San JosÃ© PoaquÃ­l",
    "San MartÃ­n Jilotepeque",
    "San Juan Comalapa",
    "Santa Apolonia",
    "TecpÃ¡n Guatemala",
    "PatzÃºn",
    "Pochuta",
    "PatzicÃ­a",
    "Santa Cruz BalanyÃ¡",
    "Acatenango",
    "San Pedro Yepocapa",
    "San AndrÃ©s Itzapa",
    "Parramos",
    "Zaragoza",
    "El Tejar"
  ],

  "Chiquimula": [
    "Chiquimula",
    "CamotÃ¡n",
    "ConcepciÃ³n Las Minas",
    "Esquipulas",
    "Ipala",
    "JocotÃ¡n",
    "Olopa",
    "Quezaltepeque",
    "San JosÃ© La Arada",
    "San Juan Ermita",
    "San Jacinto"
  ],

  "El Progreso": [
    "Guastatoya",
    "MorazÃ¡n",
    "San AgustÃ­n AcasaguastlÃ¡n",
    "San CristÃ³bal AcasaguastlÃ¡n",
    "El JÃ­caro",
    "Sansare",
    "Sanarate",
    "San Antonio La Paz"
  ],

  "Escuintla": [
    "Escuintla",
    "Santa LucÃ­a Cotzumalguapa",
    "La Democracia",
    "SiquinalÃ¡",
    "Masagua",
    "Tiquisate",
    "La Gomera",
    "Guanagazapa",
    "San JosÃ©",
    "Iztapa",
    "PalÃ­n",
    "San Vicente Pacaya",
    "Nueva ConcepciÃ³n"
  ],

  "Guatemala": [
    "Guatemala",
    "Santa Catarina Pinula",
    "San JosÃ© Pinula",
    "San JosÃ© del Golfo",
    "Palencia",
    "Chinautla",
    "San Pedro Ayampuc",
    "Mixco",
    "San Pedro SacatepÃ©quez",
    "San Juan SacatepÃ©quez",
    "San Raymundo",
    "Chuarrancho",
    "Fraijanes",
    "AmatitlÃ¡n",
    "Villa Nueva",
    "Villa Canales",
    "San Miguel Petapa"
  ],

  "Huehuetenango": [
    "AguacatÃ¡n",
    "Chiantla",
    "Colotenango",
    "ConcepciÃ³n Huista",
    "Cuilco",
    "Huehuetenango",
    "Jacaltenango",
    "La Democracia",
    "La Libertad",
    "Malacatancito",
    "NentÃ³n",
    "PetatÃ¡n",
    "San Antonio Huista",
    "San Gaspar Ixchil",
    "San Ildefonso IxtahuacÃ¡n",
    "San Juan AtitÃ¡n",
    "San Juan Ixcoy",
    "San Mateo IxtatÃ¡n",
    "San Miguel AcatÃ¡n",
    "San Pedro NectÃ¡",
    "San Pedro Soloma",
    "San Rafael La Independencia",
    "San Rafael Petzal",
    "San SebastiÃ¡n CoatÃ¡n",
    "San SebastiÃ¡n Huehuetenango",
    "Santa Ana Huista",
    "Santa BÃ¡rbara",
    "Santa Cruz Barillas",
    "Santa Eulalia",
    "Santiago Chimaltenango",
    "TectitÃ¡n",
    "Todos Santos CuchumatÃ¡n",
    "UniÃ³n Cantinil"
  ],

  "Izabal": [
    "Puerto Barrios",
    "Livingston",
    "El Estor",
    "Morales",
    "Los Amates"
  ],

  "Jalapa": [
    "Jalapa",
    "San Pedro Pinula",
    "San Luis Jilotepeque",
    "San Manuel ChaparrÃ³n",
    "San Carlos Alzatate",
    "Monjas",
    "Mataquescuintla"
  ],

  "Jutiapa": [
    "Jutiapa",
    "Agua Blanca",
    "AsunciÃ³n Mita",
    "Atescatempa",
    "Comapa",
    "Conguaco",
    "El Adelanto",
    "Jalpatagua",
    "Jerez",
    "Moyuta",
    "Pasaco",
    "Quesada",
    "San JosÃ© Acatempa",
    "Santa Catarina Mita",
    "Yupiltepeque",
    "ZapotitlÃ¡n"
  ],

  "PetÃ©n": [
    "Flores",
    "Dolores",
    "El Chal",
    "La Libertad",
    "Las Cruces",
    "Melchor de Mencos",
    "PoptÃºn",
    "San AndrÃ©s",
    "San Benito",
    "San Francisco",
    "San JosÃ©",
    "San Luis",
    "Santa Ana",
    "SayaxchÃ©"
  ],

  "Quetzaltenango": [
    "Almolonga",
    "CabricÃ¡n",
    "CajolÃ¡",
    "Cantel",
    "Coatepeque",
    "Colomba",
    "ConcepciÃ³n Chiquirichapa",
    "El Palmar",
    "Flores Costa Cuca",
    "GÃ©nova",
    "HuitÃ¡n",
    "La Esperanza",
    "Olintepeque",
    "Palestina de Los Altos",
    "Quetzaltenango",
    "SalcajÃ¡",
    "San Carlos Sija",
    "San Juan Ostuncalco",
    "San Francisco La UniÃ³n",
    "San MartÃ­n SacatepÃ©quez",
    "San Mateo",
    "San Miguel SigÃ¼ilÃ¡",
    "Sibilia",
    "Zunil"
  ],

  "QuichÃ©": [
    "Santa Cruz del QuichÃ©",
    "CanillÃ¡",
    "Chajul",
    "ChicamÃ¡n",
    "ChichÃ©",
    "Chichicastenango",
    "Chinique",
    "CunÃ©n",
    "IxcÃ¡n",
    "Joyabaj",
    "Pachalum",
    "PatzitÃ©",
    "Sacapulas",
    "San AndrÃ©s SajcabajÃ¡",
    "San Antonio Ilotenango",
    "San BartolomÃ© Jocotenango",
    "San Juan Cotzal",
    "San Pedro Jocopilas",
    "UspantÃ¡n",
    "Zacualpa"
  ],

  "Retalhuleu": [
    "Champerico",
    "El Asintal",
    "Nuevo San Carlos",
    "Retalhuleu",
    "San AndrÃ©s Villa Seca",
    "San Felipe",
    "San MartÃ­n ZapotitlÃ¡n",
    "San SebastiÃ¡n",
    "Santa Cruz MuluÃ¡"
  ],

  "SacatepÃ©quez": [
    "Alotenango",
    "Antigua Guatemala",
    "Ciudad Vieja",
    "Jocotenango",
    "Magdalena Milpas Altas",
    "Pastores",
    "San Antonio Aguas Calientes",
    "San BartolomÃ© Milpas Altas",
    "San Lucas SacatepÃ©quez",
    "San Miguel DueÃ±as",
    "Santa Catarina Barahona",
    "Santa LucÃ­a Milpas Altas",
    "Santa MarÃ­a de JesÃºs",
    "Santiago SacatepÃ©quez",
    "Santo Domingo Xenacoj",
    "Sumpango"
  ],

  "San Marcos": [
    "San Marcos",
    "Ayutla",
    "Catarina",
    "Comitancillo",
    "ConcepciÃ³n Tutuapa",
    "El Quetzal",
    "El Rodeo",
    "El Tumbador",
    "IxchiguÃ¡n",
    "La Reforma",
    "MalacatÃ¡n",
    "Nuevo Progreso",
    "OcÃ³s",
    "Pajapita",
    "Esquipulas Palo Gordo",
    "San Antonio SacatepÃ©quez",
    "San CristÃ³bal Cucho",
    "San JosÃ© Ojetenam",
    "San Lorenzo",
    "San Miguel IxtahuacÃ¡n",
    "San Pablo",
    "San Pedro SacatepÃ©quez",
    "San Rafael Pie de la Cuesta",
    "Sibinal",
    "Sipacapa",
    "TacanÃ¡",
    "Tajumulco",
    "Tejutla",
    "RÃ­o Blanco"
  ],

  "Santa Rosa": [
    "Cuilapa",
    "Barberena",
    "Santa Rosa de Lima",
    "Casillas",
    "San Rafael Las Flores",
    "Oratorio",
    "San Juan Tecuaco",
    "Chiquimulilla",
    "Taxisco",
    "Santa MarÃ­a IxhuatÃ¡n",
    "GuazacapÃ¡n",
    "Santa Cruz Naranjo",
    "Pueblo Nuevo ViÃ±as",
    "Nueva Santa Rosa"
  ],

  "SololÃ¡": [
    "SololÃ¡",
    "San JosÃ© ChacayÃ¡",
    "Santa MarÃ­a VisitaciÃ³n",
    "Santa LucÃ­a UtatlÃ¡n",
    "NahualÃ¡",
    "Santa Catarina IxtahuacÃ¡n",
    "Santa Clara La Laguna",
    "ConcepciÃ³n",
    "San AndrÃ©s Semetabaj",
    "Panajachel",
    "Santa Catarina PalopÃ³",
    "San Antonio PalopÃ³",
    "San Lucas TolimÃ¡n",
    "Santa Cruz La Laguna",
    "San Pablo La Laguna",
    "San Pedro La Laguna",
    "Santiago AtitlÃ¡n"
  ],

  "SuchitepÃ©quez": [
    "Chicacao",
    "Cuyotenango",
    "Mazatenango",
    "Patulul",
    "Pueblo Nuevo",
    "RÃ­o Bravo",
    "Samayac",
    "San Antonio SuchitepÃ©quez",
    "San Bernardino",
    "San Francisco ZapotitlÃ¡n",
    "San Gabriel",
    "San JosÃ© El Ãdolo",
    "San JosÃ© La MÃ¡quina",
    "San Juan Bautista",
    "San Lorenzo",
    "San Miguel PanÃ¡n",
    "San Pablo Jocopilas",
    "Santa BÃ¡rbara",
    "Santo Domingo SuchitepÃ©quez",
    "Santo TomÃ¡s La UniÃ³n",
    "Zunilito"
  ],

  "TotonicapÃ¡n": [
    "Momostenango",
    "San AndrÃ©s Xecul",
    "San Bartolo",
    "San CristÃ³bal TotonicapÃ¡n",
    "San Francisco El Alto",
    "Santa LucÃ­a La Reforma",
    "Santa MarÃ­a Chiquimula",
    "TotonicapÃ¡n"
  ],

  "Zacapa": [
    "Zacapa",
    "CabaÃ±as",
    "Estanzuela",
    "GualÃ¡n",
    "HuitÃ©",
    "La UniÃ³n",
    "RÃ­o Hondo",
    "San Diego",
    "San Jorge",
    "TeculutÃ¡n",
    "UsumatlÃ¡n"
  ]
};

// ðŸ“‹ ARRAY DE DEPARTAMENTOS (para selects/dropdowns)
export const DEPARTMENTS = Object.keys(GUATEMALA_LOCATIONS).sort();

// ðŸ¢ FUNCIÃ“N: Obtener municipios por departamento
export const getMunicipalitiesByDepartment = (department) => {
  if (!department || !GUATEMALA_LOCATIONS[department]) {
    return [];
  }
  return GUATEMALA_LOCATIONS[department].sort();
};

// ðŸ” FUNCIÃ“N: Buscar municipios por nombre (Ãºtil para autocomplete)
export const searchMunicipalities = (searchTerm, department = null) => {
  const searchLower = searchTerm.toLowerCase().trim();
  
  if (!searchLower) return [];
  
  let allMunicipalities = [];
  
  if (department && GUATEMALA_LOCATIONS[department]) {
    // Buscar solo en el departamento especificado
    allMunicipalities = GUATEMALA_LOCATIONS[department].map(municipality => ({
      municipality,
      department
    }));
  } else {
    // Buscar en todos los departamentos
    for (const [dept, municipalities] of Object.entries(GUATEMALA_LOCATIONS)) {
      municipalities.forEach(municipality => {
        allMunicipalities.push({
          municipality,
          department: dept
        });
      });
    }
  }
  
  return allMunicipalities
    .filter(item => 
      item.municipality.toLowerCase().includes(searchLower)
    )
    .sort((a, b) => a.municipality.localeCompare(b.municipality))
    .slice(0, 10); // Limitar a 10 resultados
};

// ðŸ“ FUNCIÃ“N: Validar si un municipio existe en un departamento
export const isValidMunicipality = (municipality, department) => {
  if (!municipality || !department) return false;
  
  const municipalities = GUATEMALA_LOCATIONS[department];
  if (!municipalities) return false;
  
  return municipalities.includes(municipality);
};

// ðŸ“Š FUNCIÃ“N: Obtener estadÃ­sticas
export const getLocationStats = () => {
  const totalDepartments = DEPARTMENTS.length;
  const totalMunicipalities = Object.values(GUATEMALA_LOCATIONS)
    .reduce((total, municipalities) => total + municipalities.length, 0);
  
  const departmentWithMostMunicipalities = Object.entries(GUATEMALA_LOCATIONS)
    .reduce((max, [dept, municipalities]) => 
      municipalities.length > max.count 
        ? { department: dept, count: municipalities.length }
        : max
    , { department: '', count: 0 });
  
  const departmentWithLeastMunicipalities = Object.entries(GUATEMALA_LOCATIONS)
    .reduce((min, [dept, municipalities]) => 
      municipalities.length < min.count 
        ? { department: dept, count: municipalities.length }
        : min
    , { department: '', count: Infinity });
  
  return {
    totalDepartments,
    totalMunicipalities,
    averageMunicipalitiesPerDepartment: Math.round(totalMunicipalities / totalDepartments),
    departmentWithMostMunicipalities,
    departmentWithLeastMunicipalities
  };
};

// ðŸ—ºï¸ FUNCIÃ“N: Obtener departamentos del Ã¡rea metropolitana (para envÃ­os especiales)
export const getMetropolitanDepartments = () => {
  return [
    'Guatemala',
    'SacatepÃ©quez',
    'Chimaltenango'
  ];
};

// ðŸšš FUNCIÃ“N: Obtener departamentos con envÃ­o rÃ¡pido
export const getFastShippingDepartments = () => {
  return [
    'Guatemala',
    'SacatepÃ©quez',
    'Chimaltenango',
    'Escuintla'
  ];
};

// ðŸ“¦ CONSTANTES: CÃ³digos postales por departamento (los mÃ¡s comunes)
export const POSTAL_CODES = {
  'Guatemala': '01001',
  'SacatepÃ©quez': '03001',
  'Chimaltenango': '04001',
  'Escuintla': '05001',
  'Santa Rosa': '06001',
  'SololÃ¡': '07001',
  'TotonicapÃ¡n': '08001',
  'Quetzaltenango': '09001',
  'SuchitepÃ©quez': '10001',
  'Retalhuleu': '11001',
  'San Marcos': '12001',
  'Huehuetenango': '13001',
  'QuichÃ©': '14001',
  'Baja Verapaz': '15001',
  'Alta Verapaz': '16001',
  'PetÃ©n': '17001',
  'Izabal': '18001',
  'Zacapa': '19001',
  'Chiquimula': '20001',
  'Jalapa': '21001',
  'Jutiapa': '22001',
  'El Progreso': '02001'
};

// ðŸ”§ FUNCIÃ“N: Obtener cÃ³digo postal por departamento
export const getPostalCode = (department) => {
  return POSTAL_CODES[department] || '01001'; // Default: Guatemala
};

export default GUATEMALA_LOCATIONS;